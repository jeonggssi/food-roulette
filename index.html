<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>랜덤 요리 뽑기</title>

<style>
body {
    background: radial-gradient(circle, #1a1a1a, #000);
    color: white;
    font-family: Arial;
    text-align: center;
}

h1 {
    margin-top: 30px;
    font-size: 70px;
    letter-spacing: 3px;
}

#roulette-container {
    position: relative;
    width: 800px;
    height: 800px;
    margin: 50px auto;
    overflow: hidden;
    border: 3px solid gold;
    border-radius: 10px;
    background: black;
}

/* 메뉴 리스트 */
#menu-list {
    position: absolute;
    width: 100%;
}

.menu-item {
    height: 80px;
    line-height: 80px;
    font-size: 35px;

    display: flex;
    align-items: center;
    justify-content: center;
}

/* 버튼 */
button {
    font-size: 30px;
    font-weight: bold;
    padding: 15px 40px;
    background: gold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}

button:hover {
    background: orange;
}

/* 결과 강조 */
.winner {
    font-size: 60px !important;
    color: gold;
    font-weight: bold;
    text-shadow: 0 0 20px gold;
}
</style>

</head>
<body>

<h1>랜덤 요리 뽑기</h1>

<div id="roulette-container">
    <div id="pointer"></div>
    <div id="menu-list"></div>
</div>

<button onclick="start()">START</button>

<script>
const menus = [
"김치찌개",
"리소토 알라 밀라네제",
"토리데리야키",
"그라탕 사부아르",
"새우장",
"꿔바로우",
"인볼티니 디 카르네",
"나시르막",
"스시",
"동파육",
"감자탕",
"퓰레 바스크",
"미네스트로네",
"아셰 파르망티에",
"슈바인스학세",
"잡채",
"해물 된장찌개",
"중식 계란탕",
"팟타이",
"돼지고기 굴소스 볶음",
"타마고야키",
"돈까스",
"오믈렛",
"목살 스테이크",
"스키야키",
"닭곰탕",
"칠리 크랩",
"프리토 미스토",
"피자",
"까르보나라",
"포카치아",
"돼지갈비",
"라자냐",
"소불고기 전골",
"돼지짜글이",
"모듬전",
"부타동",
"키리탄포 나베",
"가라아게",
"콰트로 포르마지 피자",
"칠리새우",
"만두",
"김밥",
"에비후라이",
"반미",
"닭볶음탕",
"나폴리 피자",
"가리비 버터구이",
"오삼불고기",
"퓰레 로티",
"함박스테이크",
"부대찌개",
"스파게티 볼로네제",
"명란크림우동",
"닭발",
"부야베스",
"야키니쿠",
"차완무시",
"라비올리",
"산라탕",
"가이센동",
"갈비찜",
"스테이크",
"쇼유라멘",
"마르게리타 피자",
"훠궈",
"두부 굴소스 볶음",
"난반 가라아게",
"설렁탕",
"언양식불고기",
"리소토 아이 프루티 디 마레",
"해물찜",
"홍소가지",
"봉골레 파스타",
"칼초네",
"나폴리탄",
"슈니첼",
"하이난 치킨라이스",
"사케동",
"회",
"곱창볶음",
"XO볶음밥",
"콩피 드 카나르",
"마늘새우 볶음",
"탕수육",
"미고랭",
"사천 볶음국수",
"간짜장",
"비스테카 알라 피오렌티나",
"밀푀유나베",
"아얌 고렝",
"돈테리야키",
"매운돼지갈비",
"우나기동",
"코닐리오 알라 카차토라",
"라오즈 지",
"두부김치",
"쌀국수",
"고기완자",
"코톨레타 알라 밀라네제",
"코제 알라 마리나라",
"피쉬 아목",
"차슈",
"야키토리",
"씨푸드보일",
"오코노미야키",
"페스토 파스타",
"텐무스",
"스즈터우",
"마싸만 커리",
"간장찜닭",
"카레카레",
"푸타네스카 파스타",
"숙주삼겹볶음",
"아도보",
"돼지국밥",
"유산슬",
"고등어 미소조림",
"닭갈비",
"버섯전골",
"솔 뫼니에르",
"카레우동",
"김치볶음밥",
"분짜",
"갈비탕",
"칼국수",
"소고기 굴소스 볶음",
"반쎄오",
"카레라이스",
"가츠나베",
"족발",
"키슈 로렌",
"해물 두부조림",
"낙곱새",
"유린새우",
"츠쿠네",
"아얌 페넷",
"콩국수",
"규탄야키",
"돈부리 스테이크",
"탄탄면",
"야키소바",
"차슈덮밥",
"그린 커리",
"곰탕",
"마라탕",
"크로크 마담",
"돼지고기 김치찜",
"부타가쿠니동",
"솔 아 라 노르망드",
"콩나물불고기",
"보쌈",
"냉면",
"규테리야키",
"닭껍질구이",
"네기마",
"볶음면",
"파르미지아나 디 멜란자네",
"뵈프 앙 크루트",
"가츠동",
"피살라디에르",
"오므라이스",
"하이라이스",
"오뎅탕",
"프렌치 어니언 수프",
"바쿠테",
"김치전",
"닭고기 캐슈넛 볶음",
"수제비",
"크로크 무슈",
"궁보계정",
"주꾸미볶음",
"돼지곰탕",
"치킨 카차토레",
"사바동",
"후라이드 치킨",
"탈리아타 디 만조",
"락사",
"물회",
"떡국",
"깐풍육",
"떡갈비",
"토마토 달걀볶음",
"알탕",
"차돌박이 된장찌개",
"가츠카레",
"코코뱅",
"타코",
"포르케타",
"코다리조림",
"월남쌈",
"새우만두",
"디아볼라 피자",
"사테",
"소불고기",
"플라미슈",
"깐풍가지",
"부추전",
"렌당",
"깐풍새우",
"모찌구이",
"카술레",
"똠얌꿍",
"뵈프 부르기뇽",
"스테이크 타르타르",
"산초 감자볶음",
"레촌",
"매운등갈비",
"어향육슬",
"로제찜닭",
"칼라마리 프리티",
"투르네도 로시니",
"슈크루트 가르니",
"츠케멘",
"북경오리",
"연어 가마구이",
"육회",
"토르텔리니",
"규동",
"로크락",
"쏨땀",
"가지튀김",
"갈치조림",
"방어조림",
"팔보채",
"알리오 에 올리오",
"팟끄라파오",
"나시고랭",
"백숙",
"햄버거",
"고추잡채",
"사천 소고기 볶음",
"아바키오 알라 로마나",
"페투치네 알프레도",
"스테이크 덮밥",
"폴로 알 마토네",
"샤오롱바오",
"해물파전",
"마그레 드 카나르",
"아마트리치아나",
"모츠나베",
"부추 달걀볶음",
"부타카쿠니",
"계란찜",
"니쿠자가",
"고등어 김치조림",
"낙지볶음",
"비빔밥",
"스콜리오 파스타",
"지곳 다뇨",
"콩나물국밥",
"스테이크 프리트",
"바지락술찜",
"부타미소야키",
"삼계탕",
"아쿠아파짜",
"시식",
"무시즈시",
"오니기리",
"리보리타",
"간장게장",
"퐁듀",
"고로케",
"LA갈비",
"미소라멘",
"폴렌타 에 펀기",
"부타나베",
"볶음짬뽕",
"규카츠",
"동태찌개",
"팟타이",
"제육볶음",
"스페차티노 디 만조",
"라조기",
"차콰이테오",
"삼겹살",
"프루티 디 마레 파스타",
"깐풍기",
"샤토브리앙",
"연어버터구이",
"순두부찌개",
"코다 알라 바치나라",
"짜장면",
"나바랭 다뇨",
"홍소육",
"마파두부",
"주파 디 페셰",
"고등어 소금구이",
"회과육",
"비텔로 톤나토",
"떡볶이",
"치킨버거",
"브랑다드 드 모르",
"칠리새우 크림",
"아란치니",
"유린기",
"계란볶음밥",
"뼈해장국",
"카넬로니",
"주키니 리피에네",
"버터라이스",
"카르파초 디 만조",
"샌드위치",
"마라샹궈",
"파파 알 포모도로",
"오쏘부코",
"꼬막무침",
"텐동",
"조개찜",
"수플리",
"라볶이",
"가리비 나베",
"아사리 술찜",
"경장육슬",
"돼지불백",
"시니강",
"두부튀김",
"육개장",
"모리아와세",
"짬뽕",
"꽃게 볶음",
"블랑케트 드 보",
"살팀보카 알라 로마나",
"어향가지",
"타코야키",
"해물볶음면",
"포토푀",
"마라룽샤",
"카레동",
"만둣국",
"뇨키",
"트리파 알라 로마나",
"카오 소이",
"브란지노 알 포르노",
"로제떡볶이",
"부리또",
"브라사토 알 바롤로",
"살라드 니수아즈",
"멜란자네 리피에네",
"오야코동",
"샤브샤브",
"소꼬리찜",
"폴렌타 콘 라구",
"순대국밥",
"닭한마리"
];

const list = document.getElementById("menu-list");

let extendedMenus = [];
for(let i=0;i<20;i++){
    extendedMenus = extendedMenus.concat(menus);
}

extendedMenus.forEach(menu=>{
    const div=document.createElement("div");
    div.className="menu-item";
    div.innerText=menu;
    list.appendChild(div);
});

function playSpinSound(duration = 3500){

    const ctx = new AudioContext();

    const startTime = ctx.currentTime;
    const endTime = startTime + duration / 1000;

    let clickInterval = 0.03; // 시작 속도 (빠름)

    function scheduleClick(time){

        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        // 슬롯머신 느낌: 짧은 클릭음
        osc.type = "square";
        osc.frequency.setValueAtTime(
            800 + Math.random() * 200, // 랜덤으로 기계 느낌
            time
        );

        gain.gain.setValueAtTime(0.15, time);
        gain.gain.exponentialRampToValueAtTime(0.001, time + 0.02);

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start(time);
        osc.stop(time + 0.02);
    }

    function loop(){

        const now = ctx.currentTime;

        if(now >= endTime) return;

        scheduleClick(now);

        // 점점 느려지게 (감속 효과)
        clickInterval *= 1.015;

        setTimeout(loop, clickInterval * 1000);
    }

    loop();
}

function playWinSound(){

    const ctx = new AudioContext();

    const notes = [523, 659, 784, 1046]; // 도미솔도

    notes.forEach((freq, i)=>{

        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        osc.type = "sine";
        osc.frequency.setValueAtTime(freq, ctx.currentTime + i*0.12);

        gain.gain.setValueAtTime(0.3, ctx.currentTime + i*0.12);
        gain.gain.exponentialRampToValueAtTime(
            0.001,
            ctx.currentTime + i*0.12 + 0.4
        );

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start(ctx.currentTime + i*0.12);
        osc.stop(ctx.currentTime + i*0.12 + 0.4);

    });
}
    
let spinning = false;
    let currentPosition = 0;
function start(){

    if(spinning) return;

    spinning = true;

    playSpinSound(3500);

    const itemHeight = 80;
    const containerHeight = document.getElementById("roulette-container").offsetHeight;
    const centerOffset = (containerHeight / 2) - (itemHeight / 2);

    const total = menus.length;
    const totalItems = document.querySelectorAll(".menu-item").length;

    const winnerIndex = Math.floor(Math.random() * total);

    // 최소 3바퀴 + 랜덤 0~2바퀴
    const minLoops = 3;
    const extraLoops = Math.floor(Math.random() * 3);

    const moveAmount =
        (winnerIndex + total * (minLoops + extraLoops)) * itemHeight;

    currentPosition += moveAmount;

    // ⭐ 핵심: 전체 높이 안에서 순환시킴 (빈칸 방지)
    const maxHeight = totalItems * itemHeight;
    currentPosition = currentPosition % maxHeight;

    list.style.transition = "transform 3.5s cubic-bezier(.1,.7,.1,1)";
    list.style.transform =
        `translateY(-${currentPosition - centerOffset}px)`;

    setTimeout(()=>{

        const items = document.querySelectorAll(".menu-item");

        items.forEach(i=>i.classList.remove("winner"));

        const visualIndex =
            Math.floor(currentPosition / itemHeight) % totalItems;

        items[visualIndex].classList.add("winner");

        playWinSound();

        spinning = false;

    },3500);

}
</script>

</body>
</html>















