<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>랜덤 요리 뽑기</title>
    
<style>
body {
    background: radial-gradient(circle, #1a1a1a, #000);
    color: white;
    font-family: Arial;
    text-align: center;
}

h1 {
    margin-top: 30px;
    font-size: 70px;
    letter-spacing: 3px;
}

#roulette-container {
    position: relative;
    width: 800px;
    height: 800px;
    margin: 50px auto;
    overflow: hidden;
    border: 3px solid gold;
    border-radius: 10px;
    background: black;
}

/* 메뉴 리스트 */
#menu-list {
    position: absolute;
    width: 100%;
}

.menu-item {
    height: 80px;
    line-height: 80px;
    font-size: 35px;

    display: flex;
    align-items: center;
    justify-content: center;
}

/* 버튼 */
button {
    font-size: 30px;
    font-weight: bold;
    padding: 15px 40px;
    background: gold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}

button:hover {
    background: orange;
}

/* 결과 강조 */
.winner {
    font-size: 60px !important;
    color: gold;
    font-weight: bold;
    text-shadow: 0 0 20px gold;
}
</style>

</head>
<body>

<h1> <BR> </h1>

<div id="roulette-container">
    <div id="pointer"></div>
    <div id="menu-list"></div>
</div>

<button onclick="start()">랜덤 요리 뽑기</button>

<script>
const menus = [
"김치찌개",
"프리토 미스토",
"부야베스",
"볼로네제",
"돼지고기 김치찜",
"고등어덮밥",
"계란볶음밥",
"삼겹살",
"피쉬 아목",
"수플리",
"오뎅탕",
"폴렌타 콘 라구",
"니쿠자가",
"닭발",
"투르네도 로시니",
"시니강",
"가츠나베",
"언양식불고기",
"칼국수",
"폴렌타 에 펀기",
"어향육슬",
"카술레",
"무시즈시",
"해물 된장찌개",
"스시",
"지곳 다뇨",
"아란치니",
"슈크루트 가르니",
"스키야키",
"오야코동",
"쌀국수",
"경장육슬",
"새우장",
"유린새우",
"프루티 디 마레 파스타",
"미소라멘",
"차슈",
"포카치아",
"스즈터우",
"소불고기",
"라조기",
"샤토브리앙",
"설렁탕",
"부대찌개",
"매운탕",
"크로크 무슈",
"크림새우",
"콰트로 포르마지 피자",
"가리비 나베",
"회",
"모리아와세",
"토르텔리니",
"타코",
"제육볶음",
"꽃게 볶음",
"키리탄포 나베",
"카오 소이",
"깐풍가지",
"바쿠테",
"소고기 굴소스 볶음",
"사천 볶음국수",
"야키소바",
"타코야키",
"마그레 드 카나르",
"햄버거",
"반쎄오",
"고기완자",
"마파두부",
"나바랭 다뇨",
"그린 커리",
"꽃게탕",
"콩피 드 카나르",
"스테이크 타르타르",
"아얌 고렝",
"포르케타",
"코닐리오 알라 카차토라",
"타마고야키",
"아바키오 알라 로마나",
"닭볶음탕",
"사케동",
"깐풍새우",
"고등어 소금구이",
"갈비찜",
"오돌뼈",
"솔 뫼니에르",
"순두부찌개",
"모츠나베",
"순대국밥",
"뼈해장국",
"브랑다드 드 모르",
"해산물 파스타",
"뵈프 앙 크루트",
"락사",
"칠리 크랩",
"마라탕",
"주파 디 페셰",
"주키니 리피에네",
"갈비탕",
"부타나베",
"로크락",
"아마트리치아나",
"카넬로니",
"멜란자네 리피에네",
"부타카쿠니",
"깐풍육",
"조개찜",
"홍소육",
"김치볶음밥",
"부추전",
"마싸만 커리",
"회과육",
"차완무시",
"소꼬리찜",
"아사리 술찜",
"닭고기 캐슈넛 볶음",
"곰탕",
"나폴리탄",
"봉골레 파스타",
"북경오리",
"카르파초 디 만조",
"코코뱅",
"훠궈",
"사천 소고기 볶음",
"스테이크 덮밥",
"가츠동",
"동파육",
"수제비",
"목살 스테이크",
"계란찜",
"백숙",
"돈테리야키",
"감자탕",
"마라샹궈",
"콩국수",
"토리데리야키",
"폴로 알 마토네",
"나시고랭",
"페스토 파스타",
"라오즈 지",
"스테이크 프리트",
"규테리야키",
"낙지볶음",
"피자",
"텐동",
"뇨키",
"쇼유라멘",
"연어버터구이",
"가라아게",
"간장게장",
"버섯전골",
"궁보계정",
"매운돼지갈비",
"냉면",
"리보리타",
"해물볶음면",
"모듬전",
"팔보채",
"코다리조림",
"아쿠아파짜",
"아셰 파르망티에",
"샌드위치",
"닭한마리",
"돼지불백",
"오삼불고기",
"코다 알라 바치나라",
"칼라마리 프리티",
"차슈덮밥",
"오쏘부코",
"가이센동",
"김치전",
"콩나물불고기",
"오코노미야키",
"유린기",
"산초 감자볶음",
"리소토 아이 프루티 디 마레",
"하이난 치킨라이스",
"비스테카 알라 피오렌티나",
"팟타이",
"야키토리",
"알리오 에 올리오",
"팟타이",
"어향가지",
"족발",
"라비올리",
"칠리새우",
"물회",
"고로케",
"후토마키",
"아얌 페넷",
"돼지갈비",
"떡국",
"연어 가마구이",
"수육",
"카레라이스",
"버터라이스",
"만둣국",
"낙곱새",
"카레우동",
"살라드 니수아즈",
"소불고기 전골",
"콩나물국밥",
"깐풍기",
"코제 알라 마리나라",
"스페차티노 디 만조",
"숙주삼겹볶음",
"부타미소야키",
"잡채",
"떡볶이",
"시식",
"가리비 버터구이",
"살팀보카 알라 로마나",
"부리또",
"가츠카레",
"리소토 알라 밀라네제",
"반미",
"분짜",
"나폴리 피자",
"마늘새우 볶음",
"뵈프 부르기뇽",
"까르보나라",
"가지튀김",
"홍소가지",
"마라룽샤",
"닭껍질구이",
"텐무스",
"육전",
"미고랭",
"알탕",
"간장찜닭",
"라자냐",
"브라사토 알 바롤로",
"퓰레 로티",
"밀푀유나베",
"닭갈비",
"황태해장국",
"매운등갈비",
"부추 달걀볶음",
"야키니쿠",
"닭곰탕",
"크로크 마담",
"차콰이테오",
"브란지노 알 포르노",
"탈리아타 디 만조",
"꿔바로우",
"피살라디에르",
"슈니첼",
"라볶이",
"카레카레",
"규탄야키",
"김밥",
"중식 계란탕",
"XO볶음밥",
"코톨레타 알라 밀라네제",
"산라탕",
"두부튀김",
"바지락술찜",
"프렌치 어니언 수프",
"아도보",
"규동",
"비빔밥",
"치킨 카차토레",
"굴짬뽕",
"돈까스",
"츠케멘",
"포토푀",
"소시지",
"볶음짬뽕",
"간짜장",
"짜장면",
"파파 알 포모도로",
"퐁듀",
"꼬막무침",
"나시르막",
"하이라이스",
"동태찌개",
"미네스트로네",
"퓰레 바스크",
"곱창볶음",
"마르게리타 피자",
"해물 두부조림",
"블랑케트 드 보",
"고등어 미소조림",
"두부김치",
"명란크림우동",
"장어덮밥",
"치킨버거",
"유산슬",
"그라탕 사부아르",
"네기마",
"로제찜닭",
"트리파 알라 로마나",
"육회",
"팟끄라파오",
"푸타네스카 파스타",
"월남쌈",
"인볼티니 디 카르네",
"로제떡볶이",
"LA갈비",
"육개장",
"똠얌꿍",
"슈바인스학세",
"샤오롱바오",
"스테이크",
"카레동",
"샤브샤브",
"만두",
"해물찜",
"새우튀김",
"고추잡채",
"오믈렛",
"난반 가라아게",
"해물파전",
"탄탄면",
"오므라이스",
"돼지국밥",
"부타동",
"돼지짜글이",
"짬뽕",
"키슈 로렌",
"돼지곰탕",
"부타가쿠니동",
"렌당",
"규카츠",
"츠쿠네",
"모찌구이",
"오니기리",
"파르미지아나 디 멜란자네",
"디아볼라 피자",
"새우만두",
"함박스테이크",
"쏨땀",
"갈치조림",
"돼지고기 굴소스 볶음",
"씨푸드보일",
"칼초네",
"고등어 김치조림",
"토마토 달걀볶음",
"차돌박이 된장찌개",
"주꾸미볶음",
"탕수육",
"삼계탕",
"플라미슈",
"사테",
"비텔로 톤나토",
"후라이드 치킨",
"떡갈비",
"페투치네 알프레도"
];

const list = document.getElementById("menu-list");

let extendedMenus = [];
for(let i=0;i<20;i++){
    extendedMenus = extendedMenus.concat(menus);
}

extendedMenus.forEach(menu=>{
    const div=document.createElement("div");
    div.className="menu-item";
    div.innerText=menu;
    list.appendChild(div);
});

function playSpinSound(duration = 3000){

    const ctx = new AudioContext();

    const startTime = ctx.currentTime;
    const endTime = startTime + duration / 1000;

    let clickInterval = 0.03; // 시작 속도 (빠름)

    function scheduleClick(time){

        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        // 슬롯머신 느낌: 짧은 클릭음
        osc.type = "square";
        osc.frequency.setValueAtTime(
            800 + Math.random() * 200, // 랜덤으로 기계 느낌
            time
        );

        gain.gain.setValueAtTime(0.15, time);
        gain.gain.exponentialRampToValueAtTime(0.001, time + 0.02);

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start(time);
        osc.stop(time + 0.02);
    }

    function loop(){

        const now = ctx.currentTime;

        if(now >= endTime) return;

        scheduleClick(now);

        // 점점 느려지게 (감속 효과)
        clickInterval *= 1.015;

        setTimeout(loop, clickInterval * 1000);
    }

    loop();
}

function playWinSound(){

    const ctx = new AudioContext();

    const notes = [523, 659, 784, 1046]; // 도미솔도

    notes.forEach((freq, i)=>{

        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        osc.type = "sine";
        osc.frequency.setValueAtTime(freq, ctx.currentTime + i*0.12);

        gain.gain.setValueAtTime(0.3, ctx.currentTime + i*0.12);
        gain.gain.exponentialRampToValueAtTime(
            0.001,
            ctx.currentTime + i*0.12 + 0.4
        );

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start(ctx.currentTime + i*0.12);
        osc.stop(ctx.currentTime + i*0.12 + 0.4);

    });
}
    
let spinning = false;
    let currentPosition = 0;
function start(){

    if(spinning) return;

    spinning = true;

    playSpinSound(3000);

    const itemHeight = 80;
    const containerHeight = document.getElementById("roulette-container").offsetHeight;
    const centerOffset = (containerHeight / 2) - (itemHeight / 2);

    const total = menus.length;
    const totalItems = document.querySelectorAll(".menu-item").length;

    const winnerIndex = Math.floor(Math.random() * total);
        
    // 최소 3바퀴 + 랜덤 0~2바퀴
    const minLoops = 3;
    const extraLoops = Math.floor(Math.random() * 3);

    const moveAmount =
        (winnerIndex + total * (minLoops + extraLoops)) * itemHeight;

    currentPosition += moveAmount;

    // ⭐ 핵심: 전체 높이 안에서 순환시킴 (빈칸 방지)
    const maxHeight = totalItems * itemHeight;
    currentPosition = currentPosition % maxHeight;

    list.style.transition = "transform 3s cubic-bezier(.1,.7,.1,1)";
    list.style.transform =
        `translateY(-${currentPosition - centerOffset}px)`;

    setTimeout(()=>{

        const items = document.querySelectorAll(".menu-item");

        items.forEach(i=>i.classList.remove("winner"));

        const visualIndex =
            Math.floor(currentPosition / itemHeight) % totalItems;

        items[visualIndex].classList.add("winner");

        playWinSound();

        spinning = false;

    },3000);

}
</script>

</body>
</html>














































